% ---------------------------------------
% tex_profile helper functions
% site: github.com/alanlivio/tex_profile
% ---------------------------------------

% ----------------------------------------
% better formatting of the A4 page
% ----------------------------------------
% \usepackage{wordlike}
% \usepackage[big]{layaureo}

% ----------------------------------------
% language
% ----------------------------------------
\usepackage[brazilian, american]{babel}
% \usepackage[portuguese]{babel}

% ----------------------------------------
% fonts
% ----------------------------------------
\RequirePackage[utf8]{inputenc}
\usepackage{textcomp}
\usepackage{amsmath,amssymb,amsfonts}

% ----------------------------------------
% svg
% ----------------------------------------
\usepackage{svg}

% ----------------------------------------
% tables
% ----------------------------------------
\usepackage{makecell}
\usepackage{tabularx}
\usepackage{multirow}

% ----------------------------------------
% table custom cells
% ----------------------------------------
\newcolumntype{L}[1]{>{\raggedright\arraybackslash}p{#1}}
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}}
\newcolumntype{R}[1]{>{\raggedleft\arraybackslash}p{#1}}

% ----------------------------------------
% URL with hyperref
% ----------------------------------------
\usepackage{url}
\usepackage{hyperref}
\definecolor{linkcolour}{rgb}{0,0.2,0.6}
\hypersetup{colorlinks,breaklinks,urlcolor=linkcolour, linkcolor=linkcolour}

% ----------------------------------------
% includegraphics
% ----------------------------------------
\usepackage{graphicx}

% ----------------------------------------
% includegraphics for larging image with subcaption
% ----------------------------------------
\usepackage{float}
\usepackage{newfloat}
\DeclareFloatingEnvironment[fileext=lst,placement={!htbp},name=Listing]{listing}
\usepackage{subcaption}

% ----------------------------------------
% itemize
% ----------------------------------------
\usepackage{enumitem}
\SetEnumitemKey{mynosep}{noitemsep, nosep, topsep=0pt, partopsep=0pt, parsep=0pt, itemsep=0pt, leftmargin=*}
\def\labelitemi{$-$}

% ----------------------------------------
% color
% ----------------------------------------
\RequirePackage{color}
\usepackage{xcolor}

% ----------------------------------------
% Hyphenation
% ----------------------------------------
\usepackage{soul}

% ----------------------------------------
% fixme
% ----------------------------------------
\usepackage[nomargin,inline]{fixme}
\fxusetheme{color}
\fxsetup{draft}
% \fxsetup{final}

% ----------------------------------------
% ref elements
% ----------------------------------------
\newcommand{\reffig}[1]{\figurename~\ref{#1}}
\newcommand{\reftab}[1]{Table~\ref{#1}}
\newcommand{\reflis}[1]{Listing~\ref{#1}}
\newcommand{\refappen}[1]{Appendix~\ref{#1}}
\newcommand{\refsec}[1]{Section~\ref{#1}}
\newcommand{\refsubsec}[1]{subsection~\ref{#1}}

% ----------------------------------------
% xml tags
% ----------------------------------------
\newcommand{\xml}[1]{\texttt{<#1>}}
\newcommand{\attr}[1]{\emph{#1}}

% ----------------------------------------
% for
% ----------------------------------------
\usepackage{forloop}

% spacing control
% ----------------------------------------
\setlength{\itemsep}{0pt}
\setlength{\parskip}{0pt}
\setlength{\parsep}{0pt}
\setlength{\abovecaptionskip}{0pt}
\setlength{\belowcaptionskip}{0pt}

% ----------------------------------------
% lipsum
% ----------------------------------------
\usepackage{lipsum}

% ----------------------------------------
% tree
% ----------------------------------------
\usepackage{tikz}
\usetikzlibrary{trees}

% ----------------------------------------
% minted listing inside tcolorbox
% ----------------------------------------
\usepackage{listings}
\usepackage{tikz}
\usepackage[many]{tcolorbox}
\usepackage{minted}
\tcbuselibrary{minted,breakable,skins,raster}
\newtcblisting[]{mintedlistingtcblisting}[1][!ht]{
  enhanced jigsaw,pad at break*=5mm,
  fontsize=\footnotesize
  colback=yellow!5,colframe=yellow!50!black,listing only,
  listing engine=minted,
  minted language=#1,
  minted options={fontsize=\footnotesize,breaklines,autogobble,linenos,numbersep=3mm},
  overlay={\begin{tcbclipinterior}\fill[red!20!blue!20!white] (frame.south west)
  rectangle ([xshift=5mm]frame.north west);\end{tcbclipinterior}}
}

% ----------------------------------------
% listing code inside tcolorbox
% ----------------------------------------
\usepackage{listings}
\usepackage[many]{tcolorbox}
\tcbuselibrary{listingsutf8}
\newtcblisting[]{mytcblisting}[1][!ht]{
  enhanced jigsaw,
  enforce breakable,
  pad at break*=1mm,
  colback=black!2,
  colframe=black!30,
  top=1mm, bottom=1mm, left=0mm, right=0mm,
  listing only,
  coltitle=black,
  % drop fuzzy shadow,
  listing options={
    % shape
    xleftmargin=0pt, % 0 is default
    xrightmargin=-4pt, % 0 is default
    % frame ---
    framesep=0pt,
    aboveskip=-6pt,
    belowskip=-6pt,
    captionpos=b, % sets the caption position
    % numbers ----
    % numberstyle=\footnotesize\ttfamily,
    numbers=left,
    % firstnumber=2
    numbersep=8pt,% how far the line-numbers are from the code
    stepnumber=1, % the step between two line-numbers.
    numberstyle=\tiny\ttfamily,
    % code ----
    language=#1,
    tabsize=2,
    showspaces=false, % show spaces with underscores
    showstringspaces=false, % underline spaces within strings
    showtabs=false, % show tabs using underscores
    breaklines=true, % sets automatic line breaking
    breakindent=8pt,
    basicstyle=\footnotesize\ttfamily,
    columns=fullflexible,
    keywordstyle=\color{black},
    morekeywords={
      <, >,
    },
  },
}